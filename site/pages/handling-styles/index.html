<!DOCTYPE html>

<!--

#######################################################

REMINDER: Don't edit pages directly. They are
created by the site builder. Any changes you make to
them manually will be overwritten.

#######################################################

-->


<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />
    <link rel="manifest" href="/favicons/site.webmanifest" />
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5" />
    <link rel="shortcut icon" href="/favicons/favicon.ico" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="msapplication-config" content="/favicons/browserconfig.xml" />
    <meta name="theme-color" content="#000000" />

    <title>Handling Styles In Web Components - Alan's Web Component Techniques</title>
    <meta name="description" content="My approach to passing styles between pages and components" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta property="og:description" content="My approach to passing styles between pages and components" />
    <meta property="og:title" content="Handling Styles In Web Components - Alan's Web Component Techniques" />
    <meta property="og:url" content="https://web-component-techniques.alanwsmith.com/pages/handling-styles/" />
    <meta property="og:image" content="https://web-component-techniques.alanwsmith.com/images/og-image.jpg" />
    <link rel="stylesheet" href="/styles/main.css" />
    <link rel="stylesheet" href="/styles/code-solarized-dark.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
 
  <body>
    <header>
      <a href="/">Techniques Home</a> ~
      <a href="https://www.alanwsmith.com/">alanwsmith.com</a> ~
      <a href="https://links.alanwsmith.com/">other projects</a> ~
      <a href="https://socials.alanwsmith.com/">socials</a>
    </header>

    <main class="flow"> 
      <hgroup>
        <h1>Handling Styles In Web Components</h1>
        <p>January 2025</p>
      </hgroup>

      

<h2>Introduction</h2>

<p>
  I have two main struggles with web component styling:
</p>

<ul>
  <li>
      Having to adjust a page's stylesheet
      to do something like apply 
      <code>display: block;</code>  to a custom element
  </li>
  <li>
    Having to add a custom CSS property to a page's
    stylesheet to set a style inside the
    component
  </li>
</ul>

<p>
  Both cases require messing with the parent page's CSS. 
  That breaks my mental model of the encapsulation. 
  This page looks at a self-contained approach. 
</p>

<h2>Overview</h2>

<p>
  I'm using two techniques to avoid having to 
  adjust a component's parent page CSS:
</p>

<ol>
  <li>
    Use the <code>:host</code> selector in
    the component to set styles on the custom 
    element itself
  </li>
  <li>
    Pass CSS variable names (or specific values) 
    into the component via attributes
  </li>
</ol>

<p>
  The only thing necessary after that is to 
  set optional attributes inside the custom 
  element itself.
</p>

<h2>The Component File</h2>

<p>
  Here's a full example (which
  also powers the examples on this page):
</p>

  <pre><code><span class="line-marker"></span><span class="source js"><span class="meta class js"><span class="storage type class js">class</span> <span class="entity name class js">AlansWebComponent</span> <span class="storage modifier extends js">extends</span> <span class="entity other inherited-class js">HTMLElement</span> <span class="meta class js"><span class="meta block js"><span class="punctuation section block js">{</span></span></span></span><span class="meta class js"><span class="meta block js">
<span class="line-marker"></span>  <span class="meta function declaration js"><span class="entity name function js">constructor</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>    <span class="meta function-call js"><span class="support function js">super</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">attachShadow</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="meta object-literal js"><span class="punctuation section block js">{</span><span class="meta object-literal key js">mode</span><span class="punctuation separator key-value js">:</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>open<span class="punctuation definition string end js">&#39;</span></span><span class="punctuation section block js">}</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>  <span class="punctuation section block js">}</span></span>
<span class="line-marker"></span>
<span class="line-marker"></span>  <span class="meta function declaration js"><span class="entity name function js">addContent</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>    <span class="storage type js">const</span> <span class="variable other readwrite js">template</span> <span class="keyword operator assignment js">=</span> 
<span class="line-marker"></span>      <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">ownerDocument</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="support function dom js">createElement</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>template<span class="punctuation definition string end js">&#39;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable other object js">template</span><span class="punctuation accessor js">.</span><span class="meta property object js">innerHTML</span> <span class="keyword operator assignment js">=</span> <span class="string template js"><span class="punctuation definition string template begin js">`</span>&lt;div&gt;Ping&lt;/div&gt;<span class="punctuation definition string template end js">`</span></span>
<span class="line-marker"></span>    <span class="storage type js">const</span> <span class="variable other readwrite js">contents</span> <span class="keyword operator assignment js">=</span> 
<span class="line-marker"></span>      <span class="variable other object js">template</span><span class="punctuation accessor js">.</span><span class="meta property object js">content</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="support function dom js">cloneNode</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="constant language boolean true js">true</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">shadowRoot</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">append</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other readwrite js">contents</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>  <span class="punctuation section block js">}</span></span>
<span class="line-marker"></span>
<span class="line-marker"></span>  <span class="meta function declaration js"><span class="entity name function js">connectedCallback</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">getAttributes</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">getColors</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">generateStyles</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">addContent</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>  <span class="punctuation section block js">}</span></span>
<span class="line-marker"></span>
<span class="line-marker"></span>  <span class="meta function declaration js"><span class="entity name function js">generateStyles</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>    <span class="storage type js">const</span> <span class="variable other readwrite js">styles</span> <span class="keyword operator assignment js">=</span> <span class="meta instance constructor js"><span class="keyword operator word new js">new</span><span class="meta function-call constructor js"> <span class="variable type js">CSSStyleSheet</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="punctuation terminator statement js">;</span>
<span class="line-marker"></span>    <span class="variable other object js">styles</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">replaceSync</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string template js"><span class="punctuation definition string template begin js">`</span>
<span class="line-marker"></span>      :host { 
<span class="line-marker"></span>        display: inline-block;
<span class="line-marker"></span>        background: </span><span class="meta template expression js"><span class="punctuation definition template-expression begin js">${</span></span><span class="meta template expression js"><span class="source js embedded expression"><span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">colors</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>bg-color<span class="punctuation definition string end js">&#39;</span></span><span class="punctuation section brackets js">]</span></span></span><span class="punctuation definition template-expression end js">}</span></span><span class="string template js">;
<span class="line-marker"></span>        color: </span><span class="meta template expression js"><span class="punctuation definition template-expression begin js">${</span></span><span class="meta template expression js"><span class="source js embedded expression"><span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">colors</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>text-color<span class="punctuation definition string end js">&#39;</span></span><span class="punctuation section brackets js">]</span></span></span><span class="punctuation definition template-expression end js">}</span></span><span class="string template js">;
<span class="line-marker"></span>        padding: 0.3rem;
<span class="line-marker"></span>      }<span class="punctuation definition string template end js">`</span></span>
<span class="line-marker"></span>    </span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">shadowRoot</span><span class="punctuation accessor js">.</span><span class="meta property object js">adoptedStyleSheets</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="support function mutator js">push</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other readwrite js">styles</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="line-marker"></span>  <span class="punctuation section block js">}</span></span>
<span class="line-marker"></span>
<span class="line-marker"></span>  <span class="meta function declaration js"><span class="entity name function js">getAttributes</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">attrs</span> <span class="keyword operator assignment js">=</span> <span class="meta object-literal js"><span class="punctuation section block js">{</span><span class="punctuation section block js">}</span></span>
<span class="line-marker"></span>    <span class="storage type js">const</span> <span class="variable other readwrite js">attrs</span> <span class="keyword operator assignment js">=</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">getAttributeNames</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable other object js">attrs</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">forEach</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="meta function declaration js"><span class="punctuation section group begin js">(</span><span class="variable parameter function js">attr</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span><span class="storage type function arrow js">=&gt;</span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>      <span class="meta conditional js"><span class="keyword control conditional js">if</span> <span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">attr</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">startsWith</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>:<span class="punctuation definition string end js">&#39;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span> <span class="keyword operator comparison js">===</span> <span class="constant language boolean true js">true</span><span class="punctuation section group js">)</span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>        <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">attrs</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="variable other object js">attr</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">substring</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="constant numeric js">1</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation section brackets js">]</span></span> <span class="keyword operator assignment js">=</span> 
<span class="line-marker"></span>          <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="support function dom js">getAttribute</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other readwrite js">attr</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>      </span><span class="meta block js"><span class="punctuation section block js">}</span></span></span>
<span class="line-marker"></span>    <span class="punctuation section block js">}</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>  <span class="punctuation section block js">}</span></span>
<span class="line-marker"></span>
<span class="line-marker"></span>  <span class="meta function declaration js"><span class="entity name function js">getColors</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">colors</span> <span class="keyword operator assignment js">=</span> <span class="meta object-literal js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>      <span class="meta object-literal key js"><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>bg-color<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation separator key-value js">:</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>blue<span class="punctuation definition string end js">&#39;</span></span><span class="punctuation separator comma js">,</span>
<span class="line-marker"></span>      <span class="meta object-literal key js"><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>text-color<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation separator key-value js">:</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>inherit<span class="punctuation definition string end js">&#39;</span></span>
<span class="line-marker"></span>    <span class="punctuation section block js">}</span></span>
<span class="line-marker"></span>    <span class="meta for js"><span class="keyword control loop js">for</span> <span class="meta group js"><span class="punctuation section group js">(</span><span class="storage type js">const</span> <span class="variable other readwrite js">color</span> <span class="keyword operator js">in</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">colors</span><span class="punctuation section group js">)</span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>      <span class="meta conditional js"><span class="keyword control conditional js">if</span> <span class="meta group js"><span class="punctuation section group js">(</span><span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">attrs</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="variable other readwrite js">color</span><span class="punctuation section brackets js">]</span></span> <span class="keyword operator comparison js">!==</span> <span class="constant language undefined js">undefined</span><span class="punctuation section group js">)</span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>        <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">colors</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="variable other readwrite js">color</span><span class="punctuation section brackets js">]</span></span> <span class="keyword operator assignment js">=</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">attrs</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="variable other readwrite js">color</span><span class="punctuation section brackets js">]</span></span>
<span class="line-marker"></span>      </span><span class="meta block js"><span class="punctuation section block js">}</span></span></span>
<span class="line-marker"></span>    </span><span class="meta block js"><span class="punctuation section block js">}</span></span></span>
<span class="line-marker"></span>  <span class="punctuation section block js">}</span></span>
<span class="line-marker"></span><span class="punctuation section block js">}</span></span></span>
<span class="line-marker"></span>
<span class="line-marker"></span><span class="variable other object js">customElements</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">define</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>alans-wc<span class="punctuation definition string end js">&#39;</span></span><span class="punctuation separator comma js">,</span> <span class="variable other readwrite js">AlansWebComponent</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span></span></code></pre>

<p>
  We'll dig into the details in a moment. 
  First, here's a look at how it's used:
</p>

<h2>Basic Usage</h2>

<p>
  The component's filename is <code>component.js</code>. 
  It's included via this tag:
</p>
  
<div>
<pre><code><span class="line-marker"></span><span class="text html basic"><span class="meta tag script begin html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag script html">script</span></span><span class="meta tag script begin html"> <span class="meta attribute-with-value html"><span class="entity other attribute-name html">type</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>module<span class="punctuation definition string end html">&quot;</span></span></span> <span class="meta attribute-with-value html"><span class="entity other attribute-name html">src</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>component.js<span class="punctuation definition string end html">&quot;</span></span></span></span><span class="meta tag script begin html"><span class="punctuation definition tag end html">&gt;</span></span><span class="source js embedded html"></span><span class="meta tag script end html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag script html">script</span><span class="punctuation definition tag end html">&gt;</span></span></span></code></pre>
</div>

<h3>Example 1</h3>
<p>
  The component provides a custom element named <code>alans-wc</code>
  that outputs the word &quot;Ping&quot; on top of
  a background color. The basic use looks like this:
</p>

<div class="example-block flow">
  <h4>Code</h4>
  <pre><code><span class="line-marker"></span><span class="text html basic"><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag custom html">alans-wc</span><span class="punctuation definition tag end html">&gt;</span></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag custom html">alans-wc</span><span class="punctuation definition tag end html">&gt;</span></span></span></code></pre>
  <h4>Result</h4>
  <div>
    <alans-wc></alans-wc>
  </div>
</div>

<p>
  The component defaults the background color 
  to <code>blue</code>. The text color is 
  inherited.
</p>

<h3>Example 2</h3>
<p>
  Adding a <code>:bg-color</code> attribute
  to the custom element sets the color behind
  the text:
</p>

<div class="example-block flow">
  <h4>Code</h4>
  <pre><code><span class="line-marker"></span><span class="text html basic"><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag custom html">alans-wc</span>
<span class="line-marker"></span>  <span class="meta attribute-with-value html"><span class="entity other attribute-name html">:bg-color</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>red<span class="punctuation definition string end html">&quot;</span></span></span>
<span class="line-marker"></span><span class="punctuation definition tag end html">&gt;</span></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag custom html">alans-wc</span><span class="punctuation definition tag end html">&gt;</span></span></span></code></pre>
  <h4>Result</h4>
  <div>
    <alans-wc
  :bg-color="red"
></alans-wc>
  </div>
</div>

<aside class="flow">
  <p>The <code>:bg-color</code> attribute name 
  starts with a <code>(:)</code> colon. It may look 
  a little weird, but it doesn't change functionality
    compared to starting with a letter.</p>
  <p>
    The reason I use it is to provide a basic namespace
  for my custom attributes separate from global HTML
  attributes. It also makes grabbing them easier
    by acting as a string to filter on. </p>
</aside>


<h2>Using CSS Variables</h2>
<p>
  Even better than being able to pass explicit 
  colors is the ability to pass CSS 
  variables defined by the parent page's styles. 
</p>

<h3>Example 3</h3>

<p>
  This page includes the following in its CSS:
</p>

<div>
  <pre><code><span class="line-marker"></span><span class="source css"><span class="meta selector css"><span class="entity other pseudo-class css"><span class="punctuation definition entity css">:</span>root</span> </span><span class="meta property-list css"><span class="punctuation section property-list css">{</span>
<span class="line-marker"></span>  <span class="meta property-name css"><span class="support type custom-property css"><span class="punctuation definition custom-property css">--</span><span class="support type custom-property name css">accent-color-1</span></span></span><span class="punctuation separator key-value css">:</span><span class="meta property-value css"> </span><span class="meta property-value css"><span class="support constant color w3c-extended-color-keywords css">rebeccapurple</span></span><span class="punctuation terminator rule css">;</span>
<span class="line-marker"></span>  <span class="meta property-name css"><span class="support type custom-property css"><span class="punctuation definition custom-property css">--</span><span class="support type custom-property name css">accent-color-2</span></span></span><span class="punctuation separator key-value css">:</span><span class="meta property-value css"> </span><span class="meta property-value css"><span class="support constant color w3c-extended-color-keywords css">goldenrod</span></span><span class="punctuation terminator rule css">;</span>
<span class="line-marker"></span>  <span class="meta property-name css"><span class="support type custom-property css"><span class="punctuation definition custom-property css">--</span><span class="support type custom-property name css">accent-color-3</span></span></span><span class="punctuation separator key-value css">:</span><span class="meta property-value css"> </span><span class="meta property-value css"><span class="support constant color w3c-standard-color-name css">maroon</span></span><span class="punctuation terminator rule css">;</span>
<span class="line-marker"></span></span><span class="punctuation section property-list css">}</span>
<span class="line-marker"></span></span></code></pre>
</div>

<p>
  <code>--accent-color-1</code> is what's used for the
  borders of the example code/result blocks. 
  We can set a component to use the 
  same variable for its background like this:
</p>

<div class="example-block flow">
  <h4>Code</h4>
  <pre><code><span class="line-marker"></span><span class="text html basic"><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag custom html">alans-wc</span>
<span class="line-marker"></span>  <span class="meta attribute-with-value html"><span class="entity other attribute-name html">:bg-color</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>var(--accent-color-1)<span class="punctuation definition string end html">&quot;</span></span></span>
<span class="line-marker"></span><span class="punctuation definition tag end html">&gt;</span></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag custom html">alans-wc</span><span class="punctuation definition tag end html">&gt;</span></span></span></code></pre>
  <h4>Result</h4>
  <div>
    <alans-wc
  :bg-color="var(--accent-color-1)"
></alans-wc>
  </div>
</div>

<p>
  The name of the variable is passed into a function that
  builds the stylesheet for the component's 
  shadowroot. Once there, it grabs the associated
  value from the parent page's styles like
  a regular CSS variable call.
</p>

<h3>Example 4</h3>
<p>
  Component instances are isolated from each 
  other. We can use different variables for 
  each one: 
</p>

<div class="example-block flow">
  <h4>Code</h4>
  <pre><code><span class="line-marker"></span><span class="text html basic"><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag custom html">alans-wc</span>
<span class="line-marker"></span>  <span class="meta attribute-with-value html"><span class="entity other attribute-name html">:bg-color</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>var(--accent-color-1)<span class="punctuation definition string end html">&quot;</span></span></span>
<span class="line-marker"></span><span class="punctuation definition tag end html">&gt;</span></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag custom html">alans-wc</span><span class="punctuation definition tag end html">&gt;</span></span>
<span class="line-marker"></span>
<span class="line-marker"></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag custom html">alans-wc</span>
<span class="line-marker"></span>  <span class="meta attribute-with-value html"><span class="entity other attribute-name html">:bg-color</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>var(--accent-color-2)<span class="punctuation definition string end html">&quot;</span></span></span>
<span class="line-marker"></span><span class="punctuation definition tag end html">&gt;</span></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag custom html">alans-wc</span><span class="punctuation definition tag end html">&gt;</span></span>
<span class="line-marker"></span>
<span class="line-marker"></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag custom html">alans-wc</span>
<span class="line-marker"></span>  <span class="meta attribute-with-value html"><span class="entity other attribute-name html">:bg-color</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>var(--accent-color-3)<span class="punctuation definition string end html">&quot;</span></span></span>
<span class="line-marker"></span><span class="punctuation definition tag end html">&gt;</span></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag custom html">alans-wc</span><span class="punctuation definition tag end html">&gt;</span></span></span></code></pre>
  <h4>Result</h4>
  <div>
    <alans-wc
  :bg-color="var(--accent-color-1)"
></alans-wc>

<alans-wc
  :bg-color="var(--accent-color-2)"
></alans-wc>

<alans-wc
  :bg-color="var(--accent-color-3)"
></alans-wc>
  </div>
</div>

<h3>Example 5</h3>

<p>
  The same technique can be used with multiple
  styles. Here's  an instance that
  uses a <code>text-color</code> in addition to the
  <code>bg-color</code>:
</p>

<div class="example-block flow">
  <h4>Code</h4>
  <pre><code><span class="line-marker"></span><span class="text html basic"><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag custom html">alans-wc</span>
<span class="line-marker"></span>  <span class="meta attribute-with-value html"><span class="entity other attribute-name html">:bg-color</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>var(--accent-color-2)<span class="punctuation definition string end html">&quot;</span></span></span>
<span class="line-marker"></span>  <span class="meta attribute-with-value html"><span class="entity other attribute-name html">:text-color</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>var(--accent-color-1)<span class="punctuation definition string end html">&quot;</span></span></span>
<span class="line-marker"></span><span class="punctuation definition tag end html">&gt;</span></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag custom html">alans-wc</span><span class="punctuation definition tag end html">&gt;</span></span>
<span class="line-marker"></span>
<span class="line-marker"></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag custom html">alans-wc</span>
<span class="line-marker"></span>  <span class="meta attribute-with-value html"><span class="entity other attribute-name html">:bg-color</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>var(--accent-color-3)<span class="punctuation definition string end html">&quot;</span></span></span>
<span class="line-marker"></span>  <span class="meta attribute-with-value html"><span class="entity other attribute-name html">:text-color</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>var(--accent-color-2)<span class="punctuation definition string end html">&quot;</span></span></span>
<span class="line-marker"></span><span class="punctuation definition tag end html">&gt;</span></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag custom html">alans-wc</span><span class="punctuation definition tag end html">&gt;</span></span>
<span class="line-marker"></span>
<span class="line-marker"></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;</span><span class="entity name tag custom html">alans-wc</span>
<span class="line-marker"></span>  <span class="meta attribute-with-value html"><span class="entity other attribute-name html">:bg-color</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>var(--accent-color-1)<span class="punctuation definition string end html">&quot;</span></span></span>
<span class="line-marker"></span>  <span class="meta attribute-with-value html"><span class="entity other attribute-name html">:text-color</span><span class="punctuation separator key-value html">=</span></span><span class="meta attribute-with-value html"><span class="string quoted double html"><span class="punctuation definition string begin html">&quot;</span>var(--accent-color-3)<span class="punctuation definition string end html">&quot;</span></span></span>
<span class="line-marker"></span><span class="punctuation definition tag end html">&gt;</span></span><span class="meta tag custom html"><span class="punctuation definition tag begin html">&lt;/</span><span class="entity name tag custom html">alans-wc</span><span class="punctuation definition tag end html">&gt;</span></span></span></code></pre>
  <h4>Result</h4>
  <div>
    <alans-wc
  :bg-color="var(--accent-color-2)"
  :text-color="var(--accent-color-1)"
></alans-wc>

<alans-wc
  :bg-color="var(--accent-color-3)"
  :text-color="var(--accent-color-2)"
></alans-wc>

<alans-wc
  :bg-color="var(--accent-color-1)"
  :text-color="var(--accent-color-3)"
></alans-wc>
  </div>
</div>

<h2>Looking At The Code</h2>

<p>
  The component's <code>connectedCallback()</code>
  calls four functions:
  <code>getAttributes()</code>, <code>getColors()</code>,
  <code>generateStyles()</code>, and <code>addContent()</code>.
</p>

<pre><code><span class="line-marker"></span>  <span class="meta function declaration js"><span class="entity name function js">connectedCallback</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">getAttributes</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">getColors</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">generateStyles</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">addContent</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>  <span class="punctuation section block js">}</span></span></code></pre>

<p>

  They do the following:
</p>

<h3>getAttributes()</h3>

<p>
  This function slurps up all the attributes 
  from the custom element. 
</p>

<pre><code><span class="line-marker"></span>  <span class="meta function declaration js"><span class="entity name function js">getAttributes</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">attrs</span> <span class="keyword operator assignment js">=</span> <span class="meta object-literal js"><span class="punctuation section block js">{</span><span class="punctuation section block js">}</span></span>
<span class="line-marker"></span>    <span class="storage type js">const</span> <span class="variable other readwrite js">attrs</span> <span class="keyword operator assignment js">=</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">getAttributeNames</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable other object js">attrs</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">forEach</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="meta function declaration js"><span class="punctuation section group begin js">(</span><span class="variable parameter function js">attr</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span><span class="storage type function arrow js">=&gt;</span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>      <span class="meta conditional js"><span class="keyword control conditional js">if</span> <span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other object js">attr</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">startsWith</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>:<span class="punctuation definition string end js">&#39;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span> <span class="keyword operator comparison js">===</span> <span class="constant language boolean true js">true</span><span class="punctuation section group js">)</span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>        <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">attrs</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="variable other object js">attr</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">substring</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="constant numeric js">1</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation section brackets js">]</span></span> <span class="keyword operator assignment js">=</span> 
<span class="line-marker"></span>          <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="support function dom js">getAttribute</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other readwrite js">attr</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>      </span><span class="meta block js"><span class="punctuation section block js">}</span></span></span>
<span class="line-marker"></span>    <span class="punctuation section block js">}</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>  <span class="punctuation section block js">}</span></span></code></pre>

<p>
  It works by looping through every  
  attribute and pulling out the ones that
  start with a (<code>:</code>) colon. 
</p>

<h3>getColors()</h3>

<p>
  The <code>getColors()</code> function works
  by creating a <code>this.colors</code> variable 
  and pre-populating it with default colors. The
  next step is to loop through the attributes
  to see if any colors were set in the instance
  and update them if they were.
</p>

<pre><code><span class="line-marker"></span>  <span class="meta function declaration js"><span class="entity name function js">getColors</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">colors</span> <span class="keyword operator assignment js">=</span> <span class="meta object-literal js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>      <span class="meta object-literal key js"><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>bg-color<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation separator key-value js">:</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>blue<span class="punctuation definition string end js">&#39;</span></span><span class="punctuation separator comma js">,</span>
<span class="line-marker"></span>      <span class="meta object-literal key js"><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>text-color<span class="punctuation definition string end js">&#39;</span></span></span><span class="punctuation separator key-value js">:</span> <span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>inherit<span class="punctuation definition string end js">&#39;</span></span>
<span class="line-marker"></span>    <span class="punctuation section block js">}</span></span>
<span class="line-marker"></span>    <span class="meta for js"><span class="keyword control loop js">for</span> <span class="meta group js"><span class="punctuation section group js">(</span><span class="storage type js">const</span> <span class="variable other readwrite js">color</span> <span class="keyword operator js">in</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">colors</span><span class="punctuation section group js">)</span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>      <span class="meta conditional js"><span class="keyword control conditional js">if</span> <span class="meta group js"><span class="punctuation section group js">(</span><span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">attrs</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="variable other readwrite js">color</span><span class="punctuation section brackets js">]</span></span> <span class="keyword operator comparison js">!==</span> <span class="constant language undefined js">undefined</span><span class="punctuation section group js">)</span></span> <span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>        <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">colors</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="variable other readwrite js">color</span><span class="punctuation section brackets js">]</span></span> <span class="keyword operator assignment js">=</span> <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">attrs</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="variable other readwrite js">color</span><span class="punctuation section brackets js">]</span></span>
<span class="line-marker"></span>      </span><span class="meta block js"><span class="punctuation section block js">}</span></span></span>
<span class="line-marker"></span>    </span><span class="meta block js"><span class="punctuation section block js">}</span></span></span>
<span class="line-marker"></span>  <span class="punctuation section block js">}</span></span></code></pre>

<h3>generateStyles()</h3>

<p>
  <code>generateStyles()</code> creates
  a new stylesheet using the <code>this.color</code>
  values and adds it to the shadowRoot. 
</p>
<p>
  The styles are applied via the
  <code>:host</code> selector. That what 
  applies them to the <code>&lt;alans-wc&gt;</code> custom
  element itself. 
</p>

<pre><code><span class="line-marker"></span>  <span class="meta function declaration js"><span class="entity name function js">generateStyles</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>    <span class="storage type js">const</span> <span class="variable other readwrite js">styles</span> <span class="keyword operator assignment js">=</span> <span class="meta instance constructor js"><span class="keyword operator word new js">new</span><span class="meta function-call constructor js"> <span class="variable type js">CSSStyleSheet</span><span class="meta group js"><span class="punctuation section group js">(</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span></span><span class="punctuation terminator statement js">;</span>
<span class="line-marker"></span>    <span class="variable other object js">styles</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">replaceSync</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string template js"><span class="punctuation definition string template begin js">`</span>
<span class="line-marker"></span>      :host { 
<span class="line-marker"></span>        display: inline-block;
<span class="line-marker"></span>        background: </span><span class="meta template expression js"><span class="punctuation definition template-expression begin js">${</span></span><span class="meta template expression js"><span class="source js embedded expression"><span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">colors</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>bg-color<span class="punctuation definition string end js">&#39;</span></span><span class="punctuation section brackets js">]</span></span></span><span class="punctuation definition template-expression end js">}</span></span><span class="string template js">;
<span class="line-marker"></span>        color: </span><span class="meta template expression js"><span class="punctuation definition template-expression begin js">${</span></span><span class="meta template expression js"><span class="source js embedded expression"><span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">colors</span><span class="meta brackets js"><span class="punctuation section brackets js">[</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>text-color<span class="punctuation definition string end js">&#39;</span></span><span class="punctuation section brackets js">]</span></span></span><span class="punctuation definition template-expression end js">}</span></span><span class="string template js">;
<span class="line-marker"></span>        padding: 0.3rem;
<span class="line-marker"></span>      }<span class="punctuation definition string template end js">`</span></span>
<span class="line-marker"></span>    </span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">shadowRoot</span><span class="punctuation accessor js">.</span><span class="meta property object js">adoptedStyleSheets</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="support function mutator js">push</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other readwrite js">styles</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span><span class="punctuation terminator statement js">;</span>
<span class="line-marker"></span>  <span class="punctuation section block js">}</span></span></code></pre>

<h3>addContent()</h3>

<p>
  Finally, the <code>addContent()</code> function
  adds the HTML for the component to 
  the shadowRoot via a template.
</p>

<pre><code><span class="line-marker"></span>  <span class="meta function declaration js"><span class="entity name function js">addContent</span><span class="punctuation section group begin js">(</span><span class="punctuation section group end js">)</span><span class="meta function declaration js"> </span></span><span class="meta block js"><span class="punctuation section block js">{</span>
<span class="line-marker"></span>    <span class="storage type js">const</span> <span class="variable other readwrite js">template</span> <span class="keyword operator assignment js">=</span> 
<span class="line-marker"></span>      <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">ownerDocument</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="support function dom js">createElement</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="string quoted single js"><span class="punctuation definition string begin js">&#39;</span>template<span class="punctuation definition string end js">&#39;</span></span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable other object js">template</span><span class="punctuation accessor js">.</span><span class="meta property object js">innerHTML</span> <span class="keyword operator assignment js">=</span> <span class="string template js"><span class="punctuation definition string template begin js">`</span>&lt;div&gt;Ping&lt;/div&gt;<span class="punctuation definition string template end js">`</span></span>
<span class="line-marker"></span>    <span class="storage type js">const</span> <span class="variable other readwrite js">contents</span> <span class="keyword operator assignment js">=</span> 
<span class="line-marker"></span>      <span class="variable other object js">template</span><span class="punctuation accessor js">.</span><span class="meta property object js">content</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="support function dom js">cloneNode</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="constant language boolean true js">true</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>    <span class="variable language this js">this</span><span class="punctuation accessor js">.</span><span class="meta property object js">shadowRoot</span><span class="punctuation accessor js">.</span><span class="meta function-call method js"><span class="variable function js">append</span><span class="meta group js"><span class="punctuation section group js">(</span><span class="variable other readwrite js">contents</span></span><span class="meta group js"><span class="punctuation section group js">)</span></span></span>
<span class="line-marker"></span>  <span class="punctuation section block js">}</span></span></code></pre>


<h2>Conclusion</h2>

<p>
  Styling web components was one of the
  major tripping blocks that led to false
  starts when I started using them. 
  This approach lets me adjust their styles
  with a mental model that I can easily 
  grok.
</p>


<hr class="hr-end" />

<h2>Endnotes</h2>
<ul>
  <li>
    This approach doesn't attempt to
    update the styles if something on the page
    adjusts the attribute values. Look
    into <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements#responding_to_attribute_changes">
      Responding to attribute changes section of Using custom elements</a>
    for details on how to do that.
  </li>
  <li>
    Thanks to folks on the 
      <a href="https://frontend.horse/">Frontend Horse</a>, 
      <a href="https://shoptalkshow.com/">Shot Talk Show</a>,
      and <a href="https://webcomponents-cg.netlify.app/">Web Components Community Group</a>
      discords for providing feedback to help improve this post
  </li>

</ul>

<h2>References</h2>
<ul>
  <li>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:host">:host - MDN</a>
  </li>
  <li>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/adoptedStyleSheets">adopbedStyleSheets - MDN</a>
  </li>

  <li>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet">CSSStyleSheet - MDN</a>
  </li>
</ul>


<script type="module" src="component.js"></script>



    </main>

    <footer>
      <div>
        made by <a href="https://www.alanwsmith.com/">alan w smith</a>
      </div>
      <div>
        <a href="https://github.com/alanwsmith/web-component-techniques.alanwsmith.com">source code</a> ~
        <a href="https://links.alanwsmith.com/">other projects</a> ~
        <a href="https://socials.alanwsmith.com/">socials</a>
      </div>
    </footer>

  </body>
</html>

